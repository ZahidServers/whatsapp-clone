<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <script src="{{ url_for('static', filename='myscript.js') }}"></script>
        <title>Project 2 - Flack</title>
    </head>

    <body class="bg-dark">
        <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
            <a class="navbar-brand" href="#">Flack By Mohammed Zahid Wadiwale</a>
            <ul class="navbar-nav ml-auto" >
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                        More
                    </a>
                    <div class="dropdown-menu" style="min-width: 30px !important;">
                        <a class="dropdown-item" href="#" onclick="logout();">Logout</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" id="me"></a>
                </li>
            </ul>
        </nav>
                <!-- Central Modal Fluid -->
    <div class="modal fade" id="centralModalFluid" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
      aria-hidden="true">
      <div class="modal-dialog modal-fluid" role="document">
        <!--Content-->
        <div class="modal-content">
          <!--Header-->
          <div class="modal-header">
            <h4 class="modal-title w-100" id="myModalLabel">Choose Username <br>It will be your display name on site</h4>
            </button>
          </div>
          <!--Body-->
          <div class="modal-body">
            <input type="text" placeholder="Enter Desired Username" id="username" style="width: 100%;" autofocus class="form-control" autocomplete="off">
          </div>
          <!--Footer-->
          <div class="modal-footer">
            <button type="button" id="login" class="btn btn-primary" onclick="store();">Continue</button>
          </div>
        </div>
        <!--/.Content-->
      </div>
    </div>
    <!-- Central Modal Fluid -->
        <div style="background-color: white;width: 100%;">
        <h1 align="center">Messages</h1><br></div>
        <div class="container-fluid rounded bg-dark">
            <div align="center">
            <h5 style="color: white;">Current Channel Name:-{{current_channel}}<b></b></h5>
            <div class="d-flex align-items-center justify-content-center form-inline">
                <div class="dropdown">
                <button class="form-control dropdown-toggle" placeholder="Select Channel" type="button" data-toggle="dropdown">Select Channel
                <span class="caret"> </span></button>
                <ul id="channels_lists" class="dropdown-menu">
                {% for channel in channel_list %}
                <li><a class="linkit" data-channelname="{{ channel }}" data-link="/c/{{ channel }}" style="cursor: pointer;">{{ channel }}</a></li>
                {% endfor %}
                </ul>
                </div>&nbsp;
                <button class="btn btn-secondary" data-toggle="modal" data-target="#createchannel">
                    <i class="fa fa-plus" aria-hidden="true"></i>Create New Channel
                </button>
            </div>
            </div>
              <!-- Modal -->
  <div class="modal fade" id="createchannel" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Create a New Channel</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
            <p>If Channel Name Already Exist new Channel Wont be created. So make sure your Channel Name is Unique</p>
          <input type="text" placeholder="Enter Desired Channel Name" class="form-control" id="newchannel">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button id="btnnewchannel" class="btn btn-primary">Create</button>
        </div>
      </div>
    </div>
  </div>
            <div align="center">
                <br>
                <div id="message" scrolling="auto" style="width: 81%;height: 50vh;padding: 2vh 2vh 2vh;background-color: white;overflow-y: auto;border-radius:1vh;" >
                    <div>
                    <p>Earlier Messages</p>
                    {% for message in messages %}
                    <div style="background-color: #C0C0C0;font-weight: bold;width: 80%;overflow-wrap: break-word;word-wrap:break-word;">
                     <p>On {{message[2]}} {{message[0]|replace("says", "said")|safe}}</p>
                    </div>
                    {% endfor %}
                    <p>New Messages displayed Here</p>
                </div>
                </div><br>
            </div>
            <div align="center">
                <input type="text" class="sendbar" style="width:75%;padding: 1vh 1vh 1vh;border-radius:1vh;" placeholder="Type a Message" name="mymessage" id="mymessage">
                <button name="send" id="send" class="btn btn-primary"><i class="fa fa-paper-plane" aria-hidden="true"></i>Send</button>
                <br>
                <p style="color:white;font-weight: bold;">&copy;Copyright @ Mohammed Zahid Wadiwale</p>
            </div>
        </div>
    </body>
</html>
